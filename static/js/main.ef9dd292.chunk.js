(this["webpackJsonpflight-search"]=this["webpackJsonpflight-search"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(5),i=n.n(a),s=(n(11),n(12),n(13),n(0));var o=function(e){return Object(s.jsx)("div",{className:"header",children:e.title})};n(15);var l=function(e){return Object(s.jsx)("div",{className:"footer",children:e.title})},u=n(4),h=n.n(u),j=n(6),b=n(2);n(17),n(18);var d=function(e){var t=e.flights.Quotes,n=e.flights.Places,r=e.flights.Currencies,a=e.flights.Carriers,i=Object(c.useState)(-1),o=Object(b.a)(i,2),l=o[0],u=o[1];if(null!=t&&-1==l){u(t[0].MinPrice);for(var h=1;h<t.length;h++)l>t[h].MinPrice&&u(t[h].MinPrice)}function j(e){return e===n[0].PlaceID?n[0].Name:n[1].Name}function d(e){for(var t=0;t<a.length;t++)if(e===a[t].CarrierId)return a[t].Name}return Object(s.jsx)("div",{className:"quotes",children:Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"From"}),Object(s.jsx)("th",{children:"To"}),Object(s.jsx)("th",{children:"Price"}),Object(s.jsx)("th",{children:"Depart"}),Object(s.jsx)("th",{children:"Return"}),Object(s.jsx)("th",{children:"Carrier"})]})}),Object(s.jsx)("tbody",{children:null!=t?t.map((function(e){return Object(s.jsxs)("tr",{id:"tableinput",style:e.MinPrice===l?{backgroundColor:"#FFD700"}:{backgroundColor:"#FFFFFF"},children:[Object(s.jsx)("th",{children:j(e.OutboundLeg.OriginID)}),Object(s.jsx)("th",{children:j(e.OutboundLeg.DestinationId)}),Object(s.jsx)("th",{children:(n=e.MinPrice,r[0].SymbolOnLeft?r[0].Symbol+n:n+r[0].Symbol)}),Object(s.jsx)("th",{children:e.OutboundLeg.DepartureDate.split("T")[0]}),Object(s.jsx)("th",{children:"InboundLeg"in t[0]?e.InboundLeg.DepartureDate.split("T")[0]:"N/A"}),Object(s.jsx)("th",{children:d(e.OutboundLeg.CarrierIds[0])})]},e.QuoteId);var n})):Object(s.jsx)("div",{children:"No results available."})})]})})};var O=function(){var e=Object(c.useState)({}),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(b.a)(a,2),o=i[0],l=i[1],u=Object(c.useState)(""),O=Object(b.a)(u,2),p=O[0],f=O[1],x=Object(c.useState)(""),v=Object(b.a)(x,2),g=v[0],m=v[1],y=Object(c.useState)(""),C=Object(b.a)(y,2),P=C[0],F=C[1],S=Object(c.useState)(!1),k=Object(b.a)(S,2),D=k[0],I=k[1],L=Object(c.useState)([]),M=Object(b.a)(L,2),N=M[0],T=M[1],U=Object(c.useState)("USD"),w=Object(b.a)(U,2),R=w[0],q=w[1],E=Object(c.useState)(0),A=Object(b.a)(E,2),B=A[0],Q=A[1];return 0===N.length&&fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/reference/v1.0/currencies",{method:"GET",headers:{"x-rapidapi-key":"".concat("8e6b478235msh794d79dac0c98e3p1b6440jsnb32c209b38dc"),"x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){var t=[];e.Currencies.forEach((function(e){return t.push({label:e.Code,value:e.Code})})),T(t)})).catch((function(e){console.error(e)})),Object(s.jsxs)("div",{className:"flightsearch",children:[Object(s.jsxs)("form",{onSubmit:function(e){function t(){return(t=Object(j.a)(h.a.mark((function e(){var t,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"x-rapidapi-key":"".concat("8e6b478235msh794d79dac0c98e3p1b6440jsnb32c209b38dc"),"x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}},e.next=3,fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/US/".concat(encodeURIComponent(R),"/en-US/").concat(encodeURIComponent(o+"-sky"),"/").concat(encodeURIComponent(p+"-sky"),"/").concat(encodeURIComponent(g),"/").concat(encodeURIComponent(P)),t);case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,console.log(c),e.prev=8,c.Quotes.sort((function(e,t){return 1==B?t.MinPrice-e.MinPrice:e.MinPrice-t.MinPrice})),r(c),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(8),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[8,13]])})))).apply(this,arguments)}e.preventDefault(),function(){return t.apply(this,arguments)}().then((function(e){return I(!0)}))},children:[Object(s.jsx)("label",{htmlFor:"originPlace",children:"From: "}),Object(s.jsx)("input",{id:"originPlace",placeholder:"Place ID(SFO)",value:o,onChange:function(e){return l(e.target.value)},required:!0}),Object(s.jsx)("label",{htmlFor:"destinationPlace",children:" To: "}),Object(s.jsx)("input",{id:"destinationPlace",placeholder:"Place ID(LAX)",value:p,onChange:function(e){return f(e.target.value)},required:!0}),Object(s.jsx)("label",{htmlFor:"outboundPartialDate",children:" Depart: "}),Object(s.jsx)("input",{id:"outboundPartialDate",value:g,onChange:function(e){return m(e.target.value)},type:"date",required:!0}),Object(s.jsx)("label",{htmlFor:"inboundPartialDate",children:" Return: "}),Object(s.jsx)("input",{id:"inboundPartialDate",value:P,onChange:function(e){return F(e.target.value)},type:"date"}),Object(s.jsx)("label",{htmlFor:"currency",children:" Currency: "}),Object(s.jsx)("select",{id:"currency",value:R,onChange:function(e){return q(e.target.value)},children:N.map((function(e){return Object(s.jsx)("option",{value:e.value,children:e.label})}))}),Object(s.jsx)("label",{htmlFor:"sortBy",children:" Price: "}),Object(s.jsxs)("select",{id:"sortpicker",value:B,onChange:function(e){return Q(e.target.value)},children:[Object(s.jsx)("option",{value:0,children:"Lowest"}),Object(s.jsx)("option",{value:1,children:"Highest"})]}),Object(s.jsx)("button",{className:"search",children:"Submit"})]}),D?Object(s.jsx)(d,{flights:n}):Object(s.jsx)(s.Fragment,{})]})};var p=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(o,{title:"Flight Search"}),Object(s.jsx)(O,{}),Object(s.jsx)(l,{title:"2021 || Made with \u2665 in Ithaca"})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root")),f()}],[[19,1,2]]]);
//# sourceMappingURL=main.ef9dd292.chunk.js.map